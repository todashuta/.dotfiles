#!/bin/sh

if [ -f /usr/share/doc/git/contrib/diff-highlight/diff-highlight ]; then
	## Linux
	git config --local pager.diff 'perl /usr/share/doc/git/contrib/diff-highlight/diff-highlight | less'
	git config --local pager.log  'perl /usr/share/doc/git/contrib/diff-highlight/diff-highlight | less'
	git config --local pager.show 'perl /usr/share/doc/git/contrib/diff-highlight/diff-highlight | less'
elif [ -f /usr/local/opt/git/share/git-core/contrib/diff-highlight/diff-highlight ]; then
	## Homebrew installed path (macOS)
	git config --local pager.diff 'perl /usr/local/opt/git/share/git-core/contrib/diff-highlight/diff-highlight | less'
	git config --local pager.log  'perl /usr/local/opt/git/share/git-core/contrib/diff-highlight/diff-highlight | less'
	git config --local pager.show 'perl /usr/local/opt/git/share/git-core/contrib/diff-highlight/diff-highlight | less'
else
	echo "Unknown platform.  Please update \`git-setup-diff-highlight'." 1>&2
	exit 1
fi
